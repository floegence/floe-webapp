/*
 * UI component styles.
 *
 * All selectors must stay inside `@layer components` to keep a predictable
 * precedence within Tailwind v4's layer system (see `.develop.md`).
 */

@layer components {
  /* ============================================
     Processing Indicator - Premium Animations
     ============================================ */

  /* Ring spin animation */
  @keyframes processing-ring-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes processing-ring-spin-reverse {
    from { transform: rotate(360deg); }
    to { transform: rotate(0deg); }
  }

  /* Breathing/pulse animation */
  @keyframes processing-breathe {
    0%, 100% {
      transform: scale(1);
      opacity: 1;
    }
    50% {
      transform: scale(0.92);
      opacity: 0.7;
    }
  }

  /* Sparkle animation for icons */
  @keyframes processing-sparkle {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    25% {
      opacity: 0.6;
      transform: scale(0.95);
    }
    50% {
      opacity: 1;
      transform: scale(1.05);
    }
    75% {
      opacity: 0.8;
      transform: scale(0.98);
    }
  }

  /* Waveform bar animation */
  @keyframes processing-bar {
    0%, 100% { height: 20%; }
    25% { height: 60%; }
    50% { height: 100%; }
    75% { height: 40%; }
  }

  /* Gradient border spin */
  @keyframes processing-gradient-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  /* Card border glow */
  @keyframes processing-card-border {
    0%, 100% {
      background: linear-gradient(
        90deg,
        var(--primary),
        color-mix(in srgb, var(--primary) 50%, transparent),
        var(--primary)
      );
      background-size: 200% 100%;
      background-position: 0% 0%;
    }
    50% {
      background-position: 100% 0%;
    }
  }

  /* Shimmer sweep effect */
  @keyframes processing-shimmer-sweep {
    0% {
      background: linear-gradient(
        90deg,
        transparent,
        color-mix(in srgb, var(--primary) 10%, transparent),
        transparent
      );
      background-size: 200% 100%;
      background-position: -100% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }

  /* Arc spin for card variant */
  @keyframes processing-arc-spin {
    from { transform: rotate(0deg); transform-origin: 22px 22px; }
    to { transform: rotate(360deg); transform-origin: 22px 22px; }
  }

  /* Icon morph animation */
  @keyframes processing-icon-morph {
    0%, 100% { transform: rotate(0deg) scale(1); }
    25% { transform: rotate(90deg) scale(0.9); }
    50% { transform: rotate(180deg) scale(1); }
    75% { transform: rotate(270deg) scale(0.9); }
  }

  /* Morphing circle */
  @keyframes processing-morph-circle {
    0%, 100% {
      transform: scale(1);
      border-radius: 50%;
    }
    25% {
      transform: scale(0.95) rotate(45deg);
      border-radius: 45% 55% 50% 50%;
    }
    50% {
      transform: scale(1.05);
      border-radius: 50%;
    }
    75% {
      transform: scale(0.95) rotate(-45deg);
      border-radius: 55% 45% 50% 50%;
    }
  }

  /* Particle orbit animation */
  @keyframes processing-particle {
    0% {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(calc(var(--particle-index, 0) * 120deg)) translateX(14px);
      opacity: 0.3;
    }
    50% {
      opacity: 1;
    }
    100% {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(calc(var(--particle-index, 0) * 120deg + 360deg)) translateX(14px);
      opacity: 0.3;
    }
  }

  /* Aurora rotation */
  @keyframes processing-aurora-rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  /* Aurora pulse */
  @keyframes processing-aurora-pulse {
    0%, 100% {
      transform: scale(1);
      opacity: 0.8;
    }
    50% {
      transform: scale(1.1);
      opacity: 1;
    }
  }

  /* Wave path animation */
  @keyframes processing-wave-path {
    0%, 100% {
      stroke-dasharray: 0 100;
      stroke-dashoffset: 0;
    }
    50% {
      stroke-dasharray: 50 50;
      stroke-dashoffset: -25;
    }
  }

  /* Neural line pulse */
  @keyframes processing-neural-line {
    0%, 100% { stroke-opacity: 0.2; }
    50% { stroke-opacity: 0.6; }
  }

  /* Neural node pulse */
  @keyframes processing-neural-node {
    0%, 100% {
      transform: scale(1);
      filter: brightness(1);
    }
    50% {
      transform: scale(1.2);
      filter: brightness(1.3);
    }
  }

  /* Waveform animation */
  @keyframes processing-waveform {
    0%, 100% { height: 15%; opacity: 0.4; }
    50% { height: 100%; opacity: 1; }
  }

  /* Flow dot animation */
  @keyframes processing-flow-dot {
    0% {
      transform: scale(0.5);
      opacity: 0.3;
    }
    50% {
      transform: scale(1.2);
      opacity: 1;
    }
    100% {
      transform: scale(0.5);
      opacity: 0.3;
    }
  }

  /* Neural dot cascade */
  @keyframes processing-neural-dot {
    0%, 100% {
      transform: scale(0.6);
      opacity: 0.3;
    }
    50% {
      transform: scale(1);
      opacity: 1;
    }
  }

  /* Micro orbit for small dots */
  @keyframes processing-micro-orbit {
    0% {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(calc(var(--orbit-index, 0) * 120deg)) translateX(6px);
    }
    100% {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(calc(var(--orbit-index, 0) * 120deg + 360deg)) translateX(6px);
    }
  }

  /* Orbit dot animation for pill variant */
  @keyframes processing-orbit-dot {
    0% {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(0deg) translateX(6px);
      opacity: 0.3;
    }
    25% { opacity: 1; }
    50% { opacity: 0.3; }
    75% { opacity: 1; }
    100% {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(360deg) translateX(6px);
      opacity: 0.3;
    }
  }

  /* Ray pulse animation */
  @keyframes processing-ray {
    0%, 100% { opacity: 0.05; }
    50% { opacity: 0.2; }
  }

  .processing-ring-spin {
    animation: processing-ring-spin 2s linear infinite;
    transform-origin: center;
  }

  .processing-ring-spin-reverse {
    animation: processing-ring-spin-reverse 3s linear infinite;
    transform-origin: center;
  }

  .processing-breathe {
    animation: processing-breathe 2s ease-in-out infinite;
  }

  .processing-sparkle {
    animation: processing-sparkle 1.5s ease-in-out infinite;
  }

  .processing-sparkle-delayed {
    animation: processing-sparkle 1.5s ease-in-out infinite;
    animation-delay: 0.75s;
  }

  .processing-bar {
    animation: processing-bar 1s ease-in-out infinite;
  }

  .processing-gradient-spin {
    animation: processing-gradient-spin 2s linear infinite;
  }

  .processing-card-border {
    animation: processing-card-border 3s ease-in-out infinite;
  }

  .processing-shimmer-sweep {
    animation: processing-shimmer-sweep 2s ease-in-out infinite;
  }

  .processing-arc-spin {
    animation: processing-arc-spin 2s linear infinite;
    transform-origin: 22px 22px;
  }

  .processing-icon-morph {
    animation: processing-icon-morph 4s ease-in-out infinite;
  }

  .processing-morph-circle {
    animation: processing-morph-circle 4s ease-in-out infinite;
  }

  .processing-particle {
    animation: processing-particle 2s linear infinite;
  }

  .processing-aurora-rotate {
    animation: processing-aurora-rotate 8s linear infinite;
  }

  .processing-aurora-pulse {
    animation: processing-aurora-pulse 3s ease-in-out infinite;
  }

  .processing-wave-path {
    animation: processing-wave-path 2s ease-in-out infinite;
  }

  .processing-wave-path-delayed {
    animation: processing-wave-path 2s ease-in-out infinite;
    animation-delay: 1s;
  }

  .processing-neural-line {
    animation: processing-neural-line 1.5s ease-in-out infinite;
  }

  .processing-neural-node {
    animation: processing-neural-node 2s ease-in-out infinite;
  }

  .processing-waveform {
    animation: processing-waveform 0.8s ease-in-out infinite;
  }

  .processing-flow-dot {
    animation: processing-flow-dot 1.5s ease-in-out infinite;
  }

  .processing-neural-dot {
    animation: processing-neural-dot 1s ease-in-out infinite;
  }

  .processing-micro-orbit {
    animation: processing-micro-orbit 1.5s linear infinite;
  }

  .processing-orbit-dot {
    animation: processing-orbit-dot 1.2s linear infinite;
  }

  .processing-ray {
    animation: processing-ray 2s ease-in-out infinite;
  }

  /* =============================================================================
     Text Animation Effects - Minimal and Professional
     ============================================================================= */

  /* Shimmer - subtle light sweep effect */
  @keyframes text-shimmer {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  .processing-text-shimmer {
    background: linear-gradient(
      90deg,
      currentColor 0%,
      currentColor 40%,
      color-mix(in srgb, var(--primary) 80%, white) 50%,
      currentColor 60%,
      currentColor 100%
    );
    background-size: 200% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: text-shimmer 2.5s ease-in-out infinite;
  }

  /* Glow - subtle pulsing text */
  @keyframes text-glow {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  .processing-text-glow {
    color: var(--primary);
    animation: text-glow 2s ease-in-out infinite;
  }

  /* =============================================================================
     Aurora Variant - Three rotating arcs
     ============================================================================= */

  @keyframes aurora-arc-1 {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  @keyframes aurora-arc-2 {
    from { transform: rotate(360deg); }
    to { transform: rotate(0deg); }
  }

  @keyframes aurora-arc-3 {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  .processing-aurora-arc-1 {
    transform-origin: 20px 20px;
    animation: aurora-arc-1 3s linear infinite;
  }

  .processing-aurora-arc-2 {
    transform-origin: 20px 20px;
    animation: aurora-arc-2 2s linear infinite;
  }

  .processing-aurora-arc-3 {
    transform-origin: 20px 20px;
    animation: aurora-arc-3 1.5s linear infinite;
  }

  /* Aurora center breathing effect */
  @keyframes aurora-center-breathe {
    0%, 100% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.4);
      opacity: 1;
    }
  }

  .processing-aurora-center {
    transform-origin: 20px 20px;
    animation: aurora-center-breathe 2s ease-in-out infinite;
  }

  /* =============================================================================
     Quantum Variant - Dot grid wave
     ============================================================================= */

  @keyframes quantum-dot-wave {
    0%, 100% {
      opacity: 0.25;
    }
    50% {
      opacity: 1;
    }
  }

  .processing-quantum-dot-wave {
    animation: quantum-dot-wave 1.2s ease-in-out infinite;
  }

  /* =============================================================================
     Pulse Variant - Expanding rings
     ============================================================================= */

  @keyframes pulse-ring {
    0% {
      r: 5;
      opacity: 0.8;
      stroke-width: 1.5;
    }
    100% {
      r: 16;
      opacity: 0;
      stroke-width: 0.5;
    }
  }

  @keyframes pulse-center {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(0.9); }
  }

  .processing-pulse-ring {
    animation: pulse-ring 1.5s ease-out infinite;
  }

  .processing-pulse-center {
    transform-origin: 20px 20px;
    animation: pulse-center 1s ease-in-out infinite;
  }

  /* =============================================================================
     Sequential Dots - Simple three-dot animation
     ============================================================================= */

  @keyframes sequential-dot {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.3);
    }
  }

  .processing-sequential-dot {
    animation: sequential-dot 1s ease-in-out infinite;
  }

  /* =============================================================================
     Highlight Block - Professional IDE-style Callouts
     ============================================================================= */

  .highlight-block {
    --hb-accent: oklch(0.5 0.1 240);
    --hb-header-bg: oklch(0.5 0.1 240 / 0.06);
    --hb-content-bg: oklch(0.5 0.1 240 / 0.04);
    --hb-border: oklch(0.5 0.1 240 / 0.12);

    border-radius: 6px;
    overflow: hidden;
    border: 1px solid var(--hb-border);
  }

  /* Header: left accent bar + light background */
  .highlight-block-header {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px 8px 14px;
    background: var(--hb-header-bg);
    border-left: 3px solid var(--hb-accent);
    margin-left: -1px;
  }

  .highlight-block-icon {
    flex-shrink: 0;
    opacity: 0.9;
  }

  .highlight-block-title {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.04em;
  }

  /* Content: light colored background */
  .highlight-block-content {
    padding: 10px 14px 12px 17px;
    background: var(--hb-content-bg);
    border-left: 3px solid transparent;
    margin-left: -1px;
    font-size: 12px;
    line-height: 1.65;
    color: color-mix(in srgb, var(--foreground) 85%, transparent);
  }

  .highlight-block-content > p { margin-bottom: 6px; }
  .highlight-block-content > p:last-child { margin-bottom: 0; }

  .highlight-block-content > ul,
  .highlight-block-content > ol {
    padding-left: 16px;
    margin-bottom: 6px;
  }

  .highlight-block-content > ul { list-style-type: disc; }
  .highlight-block-content > ol { list-style-type: decimal; }

  /* ============ Info Variant ============ */
  .highlight-block-info {
    --hb-accent: oklch(0.52 0.14 245);
    --hb-header-bg: oklch(0.92 0.025 245);
    --hb-content-bg: oklch(0.97 0.012 245);
    --hb-border: oklch(0.86 0.04 245);
  }

  :is(.dark) .highlight-block-info {
    --hb-accent: oklch(0.62 0.12 240);
    --hb-header-bg: oklch(0.25 0.035 240);
    --hb-content-bg: oklch(0.19 0.02 240);
    --hb-border: oklch(0.35 0.05 240);
  }

  .highlight-icon-info { color: oklch(0.50 0.14 245); }
  .highlight-title-info { color: oklch(0.40 0.10 245); }

  :is(.dark) .highlight-icon-info { color: oklch(0.70 0.12 240); }
  :is(.dark) .highlight-title-info { color: oklch(0.78 0.08 240); }

  /* ============ Warning Variant ============ */
  .highlight-block-warning {
    --hb-accent: oklch(0.62 0.16 65);
    --hb-header-bg: oklch(0.93 0.035 70);
    --hb-content-bg: oklch(0.97 0.018 70);
    --hb-border: oklch(0.88 0.05 70);
  }

  :is(.dark) .highlight-block-warning {
    --hb-accent: oklch(0.70 0.14 65);
    --hb-header-bg: oklch(0.25 0.04 65);
    --hb-content-bg: oklch(0.19 0.025 65);
    --hb-border: oklch(0.35 0.06 65);
  }

  .highlight-icon-warning { color: oklch(0.58 0.16 65); }
  .highlight-title-warning { color: oklch(0.45 0.12 65); }

  :is(.dark) .highlight-icon-warning { color: oklch(0.75 0.14 65); }
  :is(.dark) .highlight-title-warning { color: oklch(0.80 0.10 65); }

  /* ============ Success Variant ============ */
  .highlight-block-success {
    --hb-accent: oklch(0.55 0.14 155);
    --hb-header-bg: oklch(0.93 0.03 155);
    --hb-content-bg: oklch(0.97 0.015 155);
    --hb-border: oklch(0.88 0.045 155);
  }

  :is(.dark) .highlight-block-success {
    --hb-accent: oklch(0.62 0.12 155);
    --hb-header-bg: oklch(0.24 0.035 155);
    --hb-content-bg: oklch(0.18 0.02 155);
    --hb-border: oklch(0.34 0.05 155);
  }

  .highlight-icon-success { color: oklch(0.52 0.14 155); }
  .highlight-title-success { color: oklch(0.40 0.10 155); }

  :is(.dark) .highlight-icon-success { color: oklch(0.68 0.12 155); }
  :is(.dark) .highlight-title-success { color: oklch(0.75 0.08 155); }

  /* ============ Error Variant ============ */
  .highlight-block-error {
    --hb-accent: oklch(0.55 0.16 25);
    --hb-header-bg: oklch(0.93 0.025 20);
    --hb-content-bg: oklch(0.97 0.012 20);
    --hb-border: oklch(0.88 0.04 20);
  }

  :is(.dark) .highlight-block-error {
    --hb-accent: oklch(0.60 0.14 25);
    --hb-header-bg: oklch(0.24 0.035 25);
    --hb-content-bg: oklch(0.18 0.02 25);
    --hb-border: oklch(0.34 0.05 25);
  }

  .highlight-icon-error { color: oklch(0.52 0.16 25); }
  .highlight-title-error { color: oklch(0.42 0.12 25); }

  :is(.dark) .highlight-icon-error { color: oklch(0.68 0.14 25); }
  :is(.dark) .highlight-title-error { color: oklch(0.75 0.10 25); }

  /* ============ Note Variant ============ */
  .highlight-block-note {
    --hb-accent: oklch(0.52 0.16 285);
    --hb-header-bg: oklch(0.93 0.025 285);
    --hb-content-bg: oklch(0.97 0.012 285);
    --hb-border: oklch(0.88 0.04 285);
  }

  :is(.dark) .highlight-block-note {
    --hb-accent: oklch(0.62 0.14 285);
    --hb-header-bg: oklch(0.24 0.035 285);
    --hb-content-bg: oklch(0.18 0.02 285);
    --hb-border: oklch(0.34 0.05 285);
  }

  .highlight-icon-note { color: oklch(0.50 0.16 285); }
  .highlight-title-note { color: oklch(0.40 0.12 285); }

  :is(.dark) .highlight-icon-note { color: oklch(0.68 0.14 285); }
  :is(.dark) .highlight-title-note { color: oklch(0.75 0.10 285); }

  /* ============ Tip Variant ============ */
  .highlight-block-tip {
    --hb-accent: oklch(0.52 0.12 175);
    --hb-header-bg: oklch(0.93 0.02 175);
    --hb-content-bg: oklch(0.97 0.01 175);
    --hb-border: oklch(0.88 0.03 175);
  }

  :is(.dark) .highlight-block-tip {
    --hb-accent: oklch(0.60 0.10 175);
    --hb-header-bg: oklch(0.24 0.025 175);
    --hb-content-bg: oklch(0.18 0.015 175);
    --hb-border: oklch(0.34 0.04 175);
  }

  .highlight-icon-tip { color: oklch(0.48 0.12 175); }
  .highlight-title-tip { color: oklch(0.38 0.08 175); }

  :is(.dark) .highlight-icon-tip { color: oklch(0.66 0.10 175); }
  :is(.dark) .highlight-title-tip { color: oklch(0.72 0.06 175); }
}

